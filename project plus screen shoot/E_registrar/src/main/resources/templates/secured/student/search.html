<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title> MIU ::: E-registration system</title>
    <link rel ="stylesheet" th:href="@{/css/common}" type="text/css">
</head>
<body>
<header th:replace="fragments/header :: header"></header>
<main>
    <h1>System Administration</h1>
    <section>
        <div class="card text-center">
            <div class="card-header">
                <ul class="nav nav-tabs card-header-tabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="/list">Edit Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/new">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/menu">Go Back</a>
                    </li>
                </ul>
            </div>
            <nav class="navbar navbar-light bg-light">
                <form class="form-inline" action="/search" method="get">
                    <fieldset>
                        <legend id="search" style="font-weight: bolder;">Search for Student</legend>
                        <label>
                            You may search by Student's Name or Id
                        </label>
                        <input class="form-control mr-sm-2" type="searchString" id ="searchString" placeholder="Enter student's name or Id" aria-label="Search"><br>
                        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search student</button>
                    </fieldset>
                </form>
            </nav>
        </div>
    </section>
    <section style="margin-top: 1em;">
        <div th:switch = "${students.isEmpty()}">
            <div th:case="true"> Student not found</div>
        <div th:case="false">
        <table style="border:1px; padding:20px;">
            <thead>
            <tr>
                <th>#</th>
                <th>Student Number</th>
                <th>First Name </th>
                <th>Middle Name </th>
                <th>Last Name </th>
                <th>GPA</th>
                <th>Date of Enrollment </th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="student, counter: ${students}">
                <th th:text="${counter.count}"></th>
                <td th:text="${student.studentNumber}"></td>
                <td th:text="${student.firstName}"></td>
                <td th:text="${student.middleName}"></td>
                <td th:text="${student.lastName}"></td>
                <td th:text="${student.cgp}"></td>
                <td th:text="${student.dateOfEnrollment}"></td>
           </tr>
            </tbody>
        </table>
        </div>
        </div>
    </section>
</main>
<footer  th:replace="fragments/footer  ::footer"></footer>
</body>
</html>